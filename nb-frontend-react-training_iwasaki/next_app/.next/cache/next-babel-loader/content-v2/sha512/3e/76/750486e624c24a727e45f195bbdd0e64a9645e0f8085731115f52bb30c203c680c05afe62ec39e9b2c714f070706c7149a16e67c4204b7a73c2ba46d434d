{"ast":null,"code":"import React, { useState } from 'react';\n\nfunction usePersist(ky, initVal) {\n  const key = \"hooks:\" + ky;\n\n  const value = () => {\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initVal;\n    } catch (err) {\n      console.log(err);\n      return initVal;\n    }\n  };\n\n  const setValue = val => {\n    try {\n      setSavedValue(val);\n      window.localStorage.setItem(key, JSON.stringify(val));\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const {\n    0: savedValue,\n    1: setSavedValue\n  } = useState(value);\n  return [savedValue, setValue];\n}\n\nexport default usePersist;","map":null,"metadata":{},"sourceType":"module"}